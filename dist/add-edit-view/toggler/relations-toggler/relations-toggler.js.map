{"version":3,"sources":["../../../../tmp/add-edit-view/toggler/relations-toggler/relations-toggler.ts"],"names":[],"mappings":"AAAA,OAAO,KAAK,CAAC,MAAyB,QAAQ,CAAC;AAC/C,OAAO,WAAW,MAAoB,yBAAyB,CAAC;AAChE,OAAO,aAAa,MAAkB,wBAAwB,CAAC;AAC/D,OAAO,yBAAyB,MAAM,qCAAqC,CAAC;AAE5E,eAAe,UAAC,MAAM,EAAE,KAAK,EAAE,QAAQ;IAChC,IAAA,mBAAK,CAAU;IACpB,MAAM,GAAG,MAAM,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;IAE5C,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,UAAA,KAAK;QACb,IAAA,oBAAa,CAAU;QAE5B,EAAE,CAAA,CAAC,aAAa,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;YAC3B,IAAA,0BAAmB,EAAE,6BAAU,CAAU;YAE9C,EAAE,CAAA,CAAC,CAAC,QAAQ,IAAI,CAAC,SAAS,CAAC;gBACxB,CAAC,CAAC,QAAQ,IAAI,UAAU;oBACvB,CAAC,yBAAyB,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC/C,CAAC,CAAC,MAAM,CAAC,KAAK,EAAE,EAAC,QAAQ,UAAA,EAAE,UAAU,EAAE,QAAQ,EAAC,CAAC,CAAC;YACpD,CAAC;QACH,CAAC;IACH,CAAC,CAAC,CAAC;AACL,CAAC,CAAC","file":"relations-toggler.js","sourceRoot":"","sourcesContent":["import * as _                    from 'lodash';\nimport routeSorter               from '../../_lib/route-sorter';\nimport subsetChecker             from '../_lib/subset-checker';\nimport selectedDescendantChecker from '../_lib/selected-descendant-checker';\n\nexport default (routes, route, selected) => {\n  let {paths} = route;\n  routes = routes.slice().sort(routeSorter());\n  \n  _.each(routes, route => {\n    let {paths: _paths} = route;\n    \n    if(subsetChecker(_paths, paths)) {\n      let {selected: _selected, autoMarked} = route;\n      \n      if((selected && !_selected) || \n         (!selected && autoMarked && \n          !selectedDescendantChecker(routes, route))) {\n        _.extend(route, {selected, autoMarked: selected});\n      }\n    }\n  });\n};\n"]}