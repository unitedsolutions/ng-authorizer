{"version":3,"sources":["../../../../tmp/add-edit-view/state-setter/data-stater/data-stater.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAO,KAAK,CAAC,MAAe,QAAQ,CAAC;AACrC,OAAO,KAAK,MAAgB,qBAAqB,CAAC;AAClD,OAAO,eAAe,MAAM,6BAA6B,CAAC;AAC1D,OAAO,WAAW,MAAU,yBAAyB,CAAC;AACtD,OAAO,eAAe,MAAM,sCAAsC,CAAC;AAEnE,MAAM,CAAC,OAAO,WAAgB,IAAI;;;;;;;oBAC3B,MAAM,GAAI,IAAI,OAAR,CAAS;oBAChB,cAAc,GAAG,eAAe,CAAC,EAAC,MAAM,QAAA,EAAE,OAAO,EAAE,IAAI,EAAC,CAAC,CAAC;oBAE9D,cAAc,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;oBACnC,eAAe,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;oBAE7B,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE,UAAA,KAAK;wBACrB,IAAA,iBAAI,EAAE,wBAAiB,CAAU;wBACjC,IAAA,uDAAW,CAAkC;wBAClD,EAAE,CAAA,CAAC,WAAW,CAAC,CAAC,CAAC;4BACf,EAAE,CAAA,CAAC,QAAQ,CAAC,CAAC,CAAC;gCACZ,CAAC,CAAC,MAAM,CAAC,WAAW,EAAE,EAAC,OAAO,EAAE,QAAQ,EAAC,CAAC,CAAC;4BAC7C,CAAC;4BAED,KAAI,CAAC,OAAO,CAAC,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;wBACxC,CAAC;oBACH,CAAC,CAAC,CAAC;oBAEH,qBAAM,KAAK,EAAE,EAAA;;oBAAb,SAAa,CAAC;oBACV,UAAU,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;oBAC1C,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;;;;;CAClC","file":"data-stater.js","sourceRoot":"","sourcesContent":["import * as _          from 'lodash';\nimport pause           from '../../../_lib/pause';\nimport defaultsClearer from '../../_lib/defaults-clearer';\nimport routeSorter     from '../../_lib/route-sorter';\nimport routesFlattener from '../routes-flattener/routes-flattener';\n\nexport default async function(role) {\n  let {routes} = role;\n  let selectedRoutes = routesFlattener({routes, include: true});\n  \n  selectedRoutes.sort(routeSorter());\n  defaultsClearer(this.routes);\n\n  _.each(selectedRoutes, route => {\n    let {path, default: _default} = route;\n    let [actualRoute] = _.filter(this.routes, {path});\n    if(actualRoute) {\n      if(_default) {\n        _.extend(actualRoute, {default: _default});\n      }\n      \n      this.toggler(actualRoute, true, true);\n    }\n  });\n  \n  await pause();\n  let formValues = _.omit(role, ['routes']);\n  this.form.patchValue(formValues);\n}\n"]}